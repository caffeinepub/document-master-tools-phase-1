{
  "kind": "build_request",
  "title": "International Office Platform Upgrade â€“ Navigation, Usability, Multi-Language, Pro Plan & Batch Processing",
  "projectName": "DocMasterTools",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-151",
      "text": "Add a 'Back to Home' navigation button on every non-calculator tool page (all image tool pages, all PDF tool pages, all converter/compressor pages, and the Resume Builder pages). Place it in the top-left corner of the page content area, above the H1 heading. It must display a left-arrow icon followed by the label 'Home'. It must be visible in both light and dark modes, have a minimum tap target of 44x44 px for mobile, and navigate the user to the homepage (/). Do NOT modify any calculator page components.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Add a clear Back to Home arrow button on every tool page.",
          "Place it at the top-left corner.",
          "Use a clear arrow icon + Home label."
        ]
      },
      "acceptanceCriteria": [
        "Every image tool page, PDF tool page, converter page, and Resume Builder page renders a back-to-home button at the top-left of the content area.",
        "The button displays a left-arrow icon and the text 'Home'.",
        "Clicking the button navigates to the homepage (/).",
        "The button has a minimum tap target of 44x44 px.",
        "No calculator page component is modified."
      ]
    },
    {
      "id": "REQ-152",
      "text": "Ensure BreadcrumbNavigation is integrated on every non-calculator tool page that does not already have it, using the existing BreadcrumbNavigation component (frontend/src/components/BreadcrumbNavigation.tsx). Each tool page must render the correct hierarchical path (e.g., Home > Image Tools > Image Resizer, Home > PDF Tools > Merge PDF, Home > Resume Builder > Fresher Resume). Breadcrumbs must be placed directly below the Back to Home button and above the H1 heading. Do NOT modify any calculator page components.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Add breadcrumb navigation: Example: Home > Image Tools > Image Resizer"
        ]
      },
      "acceptanceCriteria": [
        "All image tool pages, PDF tool pages, converter pages, and Resume Builder pages display a breadcrumb trail.",
        "Breadcrumb path correctly reflects the page hierarchy.",
        "Breadcrumb is positioned below the Back to Home button and above the H1 heading.",
        "Schema.org BreadcrumbList JSON-LD structured data is included.",
        "No calculator page component is modified."
      ]
    },
    {
      "id": "REQ-153",
      "text": "After a download completes on any non-calculator tool page, display two post-download navigation buttons below the download area: (1) 'Back to Home' that navigates to /; (2) 'Use Another Tool' that navigates to the parent hub page for the current tool category (/image-tools for image tools, /pdf-tools for PDF tools, /resume-builder for resume tools). These buttons must appear only after a successful download action and must be mobile-responsive with full-width layout on screens below 768 px. Do NOT modify any calculator components.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "After download is completed: Show a button: Back to Home, Show a button: Use Another Tool"
        ]
      },
      "acceptanceCriteria": [
        "Post-download buttons appear only after a download is triggered.",
        "'Back to Home' navigates to /.",
        "'Use Another Tool' navigates to the correct hub page.",
        "Buttons are full-width on screens below 768 px.",
        "No calculator component is modified."
      ]
    },
    {
      "id": "REQ-154",
      "text": "Add A4 (210x297 mm), Legal (215.9x355.6 mm), and Letter (215.9x279.4 mm) page size presets across all relevant image tools (CustomImageResizePage, DPIChangerPage, ExportOptionsPanel) and PDF tools (ImageToPDFTool, PDFToImageTool) settings panels. Each preset must automatically populate the corresponding pixel dimensions based on the selected DPI (default 300 DPI if no DPI selector is present). Label these presets clearly as 'Office Print Ready' in the preset selector UI. Do NOT modify any calculator components.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Add: A4 / Legal / Letter presets",
          "Office print-ready export"
        ]
      },
      "acceptanceCriteria": [
        "A4, Legal, and Letter appear as selectable presets in CustomImageResizePage, DPIChangerPage, ExportOptionsPanel, ImageToPDFTool, and PDFToImageTool settings panels.",
        "Selecting a preset auto-populates pixel dimensions calculated from the active DPI value.",
        "Presets are labeled 'Office Print Ready' in the UI.",
        "No calculator component is modified."
      ]
    },
    {
      "id": "REQ-155",
      "text": "Implement batch file processing support for non-calculator tools. Users must be able to upload multiple files at once in: ImageCompressorPage, CustomImageResizePage, DPIChangerPage, JPGToPNGPage, PNGToJPGPage, WEBPConverterPage, BackgroundRemoverPage, PDFCompressTool, and ImageToPDFTool. The batch mode must: (1) display a list of queued files with individual file names and sizes; (2) process all files using the existing client-side processing logic; (3) allow downloading all processed files individually or as a ZIP archive using JSZip or an equivalent already in the project; (4) show per-file processing status (pending, processing, done, error). Do NOT modify any calculator components.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Batch file processing"
        ]
      },
      "acceptanceCriteria": [
        "Users can upload multiple files at once on supported tool pages.",
        "A queue list shows each file's name, size, and processing status.",
        "All files are processed client-side with the existing logic.",
        "Processed files can be downloaded individually or as a ZIP.",
        "Per-file status indicators (pending / processing / done / error) are shown.",
        "No calculator component is modified."
      ]
    },
    {
      "id": "REQ-156",
      "text": "Enhance PDFAddWatermarkTool (frontend/src/components/pdf-tools/PDFAddWatermarkTool.tsx) to expose a full PDF Stamp/Watermark settings panel including: (1) text input for stamp content (e.g., CONFIDENTIAL, DRAFT, APPROVED, or custom); (2) font size selector (small/medium/large/custom pt); (3) opacity slider (10-100%); (4) position selector (center diagonal, top-left, top-right, bottom-left, bottom-right); (5) color picker for stamp text; (6) rotation angle input (0-360 degrees). Processing must follow the advanced user-controlled mode: settings then Apply & Preview then download enabled. Do NOT modify any calculator components.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "PDF stamp option"
        ]
      },
      "acceptanceCriteria": [
        "PDFAddWatermarkTool has all six stamp settings fields.",
        "Preview is shown before download is enabled.",
        "Stamp is applied client-side with no backend calls.",
        "Tool is accessible from PDFToolsPage.",
        "No calculator component is modified."
      ]
    },
    {
      "id": "REQ-157",
      "text": "Expand multi-language support beyond the current 9 Indian languages. Add the following languages to LanguageContext (frontend/src/contexts/LanguageContext.tsx) and LanguageSelector (frontend/src/components/LanguageSelector.tsx): Arabic (ar), French (fr), Spanish (es), German (de), Chinese Simplified (zh), Portuguese (pt), Russian (ru), Japanese (ja), Indonesian (id). Create corresponding locale JSON files at frontend/src/locales/ar.json, fr.json, es.json, de.json, zh.json, pt.json, ru.json, ja.json, id.json with translations for all UI text keys already present in the existing en.json file. Use lazy loading (dynamic imports) for all new locale files. Do NOT translate calculation logic, formulas, or numerical operations.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Support major global languages."
        ]
      },
      "acceptanceCriteria": [
        "LanguageSelector dropdown includes all 9 new languages in addition to the existing 10.",
        "Each new language has a locale JSON file with all keys from en.json translated.",
        "Locale files are lazy-loaded only when that language is selected.",
        "Calculation logic and numerical operations remain unchanged.",
        "Language switching works without page reload."
      ]
    },
    {
      "id": "REQ-158",
      "text": "Implement RTL (right-to-left) layout support for Arabic (ar). When the active language is Arabic, set dir='rtl' and lang='ar' on the document root element, apply Tailwind RTL utilities where flex/grid layouts need mirroring, switch text alignment to right-aligned, and render BreadcrumbNavigation in RTL order. All other languages must remain LTR. Ensure Header, Footer, tool cards, form wizards, and breadcrumbs display correctly in RTL mode. No calculator component should be modified.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "RTL support for Arabic."
        ]
      },
      "acceptanceCriteria": [
        "Selecting Arabic sets dir='rtl' on the document root.",
        "All page layouts mirror correctly in RTL mode.",
        "Header, Footer, breadcrumbs, and tool cards render correctly in Arabic RTL.",
        "Switching away from Arabic restores LTR layout.",
        "No calculator component is modified."
      ]
    },
    {
      "id": "REQ-159",
      "text": "Implement multi-language SEO support for all newly added languages. Update the SEO component (frontend/src/components/SEO.tsx) to render hreflang link tags for all supported languages (existing 9 Indian languages plus 9 new global languages plus x-default pointing to English). Update the sitemap generation utility (frontend/src/utils/generateSitemap.ts) and public/sitemap.xml to include language-specific URL variants for all new languages following the pattern /[lang]/[route]. Update App.tsx routing to add language-prefixed routes for the new languages following the same pattern already established for the existing 9 languages.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Multi-language SEO support."
        ]
      },
      "acceptanceCriteria": [
        "SEO component renders hreflang tags for all supported languages including new ones.",
        "x-default hreflang points to English version.",
        "sitemap.xml includes URL entries for all new language variants.",
        "Language-prefixed routes work for all 9 new languages.",
        "Canonical tags point to the current language URL."
      ]
    },
    {
      "id": "REQ-160",
      "text": "Implement country-based language auto-detection on initial page load. Use navigator.language and navigator.languages to detect the user's locale. If the detected locale matches one of the 19 supported languages, auto-switch to that language and update the URL to the language-prefixed variant. If no match is found, fall back to English. Persist the detected or selected language to localStorage. Do not redirect if the user has already manually selected a language (check localStorage for an existing preference key).",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Auto-detect user country.",
          "Auto-switch language."
        ]
      },
      "acceptanceCriteria": [
        "On first visit with no stored language preference, language is auto-detected from navigator.language.",
        "Auto-detected language is applied and URL is updated to language-prefixed path.",
        "If locale is unsupported, English is used as fallback.",
        "Manually selected language persists in localStorage and prevents auto-redirect on return visits.",
        "Auto-detection does not break existing routing."
      ]
    },
    {
      "id": "REQ-161",
      "text": "Update frontend/src/pages/HomePage.tsx to ensure all FREE tools are visible with clear icons and that the single Pro tool is in its own separate section. Specifically: (1) all FREE tool cards (PDF Tools, Image Tools excluding AI Document Enhancer, Calculator Hub, Resume Builder) must display a clear recognizable SVG icon per card that immediately communicates the tool purpose; (2) the AI Document Enhancer (the only Pro tool) must be placed in a clearly labeled separate section titled 'Pro Tools' positioned below all free tool sections using the same card design as free tools but with the amber/gold PRO badge; (3) free tool cards must NOT display any PRO badge; (4) the existing layout, dark theme, card shadows, border radius, padding, gap values, and all other visual properties must remain completely unchanged. Do NOT modify any calculator components.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "All FREE tools visible on front page.",
          "Each tool must include a clear sign image/icon.",
          "Pro tool separate section.",
          "Free and Pro tools not mixed."
        ]
      },
      "acceptanceCriteria": [
        "Every free tool card on the homepage has a visible SVG icon representing its function.",
        "A 'Pro Tools' section exists below all free tool sections containing only the AI Document Enhancer card.",
        "The AI Document Enhancer card displays the amber/gold PRO badge.",
        "No free tool card displays a PRO badge.",
        "Homepage layout, theme, spacing, and design are visually unchanged.",
        "No calculator component is modified."
      ]
    },
    {
      "id": "REQ-162",
      "text": "Create the new Pro tool 'AI Document Enhancer'. Create a new page component at frontend/src/pages/image-tools/AIDocumentEnhancerPage.tsx with SEO metadata (title: 'AI Document Enhancer - Pro Tool | Document Master Tools'), BreadcrumbNavigation (Home > Image Tools > AI Document Enhancer), H1 heading, and a 100-150 word description. The page must display a login/subscription gate: show a prominent 'Login Required' and 'Subscribe to Pro' message with pricing (399 rupees per month or 3000 rupees per year). Use the existing useProAccess hook and useInternetIdentity hook: when isPro is true AND the user is authenticated, unlock the tool; otherwise show the gate. Display a 'Pro Active' badge in the page header when the user has active Pro access. Register the route /ai-document-enhancer in App.tsx using React.lazy() and Suspense. Update ProPricingModal to replace Smart Document Fixer Pro pricing with AI Document Enhancer pricing: 399 rupees per month and 3000 rupees per year. Add an AI Document Enhancer card with the amber/gold PRO badge to ImageToolsPage in its own Pro Tools sub-section. Do NOT modify any calculator components.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Only one Pro tool: AI Document Enhancer",
          "Pricing: 399 Monthly, 3000 Yearly",
          "Login required.",
          "Subscription required.",
          "Show Pro Active badge."
        ]
      },
      "acceptanceCriteria": [
        "Route /ai-document-enhancer renders AIDocumentEnhancerPage.",
        "Page shows SEO metadata, breadcrumbs, and H1.",
        "Unauthenticated users and non-Pro users see a login/subscription gate with correct pricing.",
        "Authenticated Pro users see the tool with a 'Pro Active' badge.",
        "ProPricingModal pricing is updated to 399 rupees per month and 3000 rupees per year.",
        "AI Document Enhancer card appears in ImageToolsPage with PRO badge.",
        "No calculator component is modified."
      ]
    },
    {
      "id": "REQ-163",
      "text": "Update the Header component (frontend/src/components/Header.tsx) LanguageSelector to include all 19 supported languages (9 existing Indian languages plus 9 new global languages with English as default). The navigation link order must remain: (1) Calculator Hub to /calculators; (2) PDF Tools to /pdf-tools; (3) Image Tools to /image-tools; (4) Resume Builder to /resume-builder; (5) JobsIndiaa.com external new tab; (6) RJY Total Manpowers.com external new tab. All existing hamburger menu, mobile overlay, touch targets, and responsive behavior must remain unchanged.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Manual language selector in header.",
          "Support major global languages."
        ]
      },
      "acceptanceCriteria": [
        "LanguageSelector in the header includes all 19 supported languages.",
        "Navigation order is preserved as specified.",
        "External links open in new tab with rel noopener noreferrer.",
        "Mobile hamburger menu and overlay work correctly.",
        "Language selector is accessible in the mobile menu overlay."
      ]
    },
    {
      "id": "REQ-164",
      "text": "Upgrade all 16 PDF tool components in frontend/src/components/pdf-tools/ to use the advanced user-controlled mode via the existing AdvancedToolShell component (frontend/src/components/AdvancedToolShell.tsx). Each PDF tool must follow the strict sequence: settings selection then Apply and Preview then download enabled only after preview. Required settings panels: (a) PDFCompressTool: compression level selector (Low/Medium/High/Maximum) and target size input with KB/MB unit selector; (b) PDFMergeTool: page order drag-reorder list and output quality selector; (c) PDFSplitTool: split mode selector (by page range/every N pages/individual pages) and page range input; (d) PDFToImageTool: output format selector (PNG/JPEG/WebP), DPI selector (72/150/200/300), quality slider; (e) ImageToPDFTool: page size selector (A4/Letter/Legal/custom), orientation (portrait/landscape), image fit mode (fit/fill/center); (f) PDFPasswordProtectTool: password input and encryption level selector (128-bit/256-bit); (g) PDFAddWatermarkTool: settings as specified in REQ-156; (h) all remaining PDF tools: expose options relevant to their specific function. Processing must not begin until Apply and Preview is clicked. Show a preview panel before enabling download. Do NOT modify any calculator components.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Upgrade all 16 PDF tools in frontend/src/components/pdf-tools/ to use the advanced user-controlled mode."
        ]
      },
      "acceptanceCriteria": [
        "All 16 PDF tool components have a settings panel before any processing.",
        "Processing does not begin until Apply and Preview is clicked.",
        "A preview panel is shown after processing.",
        "Download button is disabled until preview is confirmed.",
        "Each tool has settings appropriate to its function as specified.",
        "No calculator component is modified."
      ]
    },
    {
      "id": "REQ-165",
      "text": "Ensure all non-calculator tool pages with the new navigation elements (Back to Home button, breadcrumbs, post-download buttons) and batch processing UI are fully mobile-responsive. The Back to Home button must be full-width on screens below 480 px. Breadcrumbs must truncate gracefully on small screens using ellipsis or horizontal scrolling. Post-download navigation buttons must be full-width with min-height 48 px on mobile. The batch file queue list must stack vertically on screens below 768 px with scrollable overflow if needed. Do NOT modify any calculator components.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Ensure mobile-friendly navigation."
        ]
      },
      "acceptanceCriteria": [
        "Back to Home button is full-width on screens below 480 px.",
        "Breadcrumbs truncate or scroll horizontally on small screens.",
        "Post-download buttons are full-width with min-height 48 px on mobile.",
        "Batch queue list stacks vertically on screens below 768 px.",
        "No calculator component is modified."
      ]
    }
  ],
  "constraints": [
    "Do NOT modify any calculator tool components or pages under any circumstances.",
    "Do NOT change the existing homepage layout, design system, dark theme, card shadows, border radius, padding, or gap values.",
    "Do NOT redesign any existing pages or components.",
    "Do NOT introduce new color palettes or visual themes.",
    "All file processing must remain 100% client-side with no backend calls.",
    "The footer copyright notice 2026 RJY TOTAL MANPOWERS SERVICES PRIVATE LIMITED All Rights Reserved must remain unchanged.",
    "Immutable frontend paths (frontend/src/hooks/useInternetIdentity.ts, frontend/src/hooks/useActor.ts, frontend/src/main.tsx, frontend/src/components/ui) must not be modified."
  ],
  "nonGoals": [
    "Redesigning or restructuring any existing page layout.",
    "Adding new color themes or visual style changes.",
    "Modifying any of the 20 calculator tool components or their page wrappers.",
    "Integrating real external AI APIs for the AI Document Enhancer.",
    "Real payment processing for the Pro plan.",
    "Adding more than one Pro tool.",
    "Server-side file processing or backend schema changes.",
    "Changing the footer structure beyond what is already deployed."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}