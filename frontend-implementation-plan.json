{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "International Office Platform Upgrade â€“ Navigation, Usability, Multi-Language, Pro Plan & Batch Processing",
  "requirements": [
    {
      "id": "REQ-151",
      "summary": "Add 'Back to Home' navigation button on all non-calculator tool pages",
      "acceptanceCriteria": [
        "Every image tool page, PDF tool page, converter page, and Resume Builder page renders a back-to-home button at the top-left of the content area.",
        "The button displays a left-arrow icon and the text 'Home'.",
        "Clicking the button navigates to the homepage (/).",
        "The button has a minimum tap target of 44x44 px.",
        "No calculator page component is modified."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/BackToHomeButton.tsx",
          "operation": "create",
          "description": "Create a reusable BackToHomeButton component that renders a left-arrow icon followed by the label 'Home'. The button must have a minimum tap target of 44x44 px for mobile accessibility, be visible in both light and dark modes, and navigate to the homepage (/) when clicked. Use lucide-react ArrowLeft icon and the existing theme system."
        },
        {
          "path": "frontend/src/pages/image-tools/AadhaarPhotoResizePage.tsx",
          "operation": "modify",
          "description": "Import and render the BackToHomeButton component at the top-left of the content area, above the existing H1 heading. Position it before any existing page content using the component's built-in styling."
        },
        {
          "path": "frontend/src/pages/image-tools/BackgroundRemoverPage.tsx",
          "operation": "modify",
          "description": "Import and render the BackToHomeButton component at the top-left of the content area, above the H1 heading."
        },
        {
          "path": "frontend/src/pages/image-tools/CustomImageResizePage.tsx",
          "operation": "modify",
          "description": "Import and render the BackToHomeButton component at the top-left of the content area, above the H1 heading."
        },
        {
          "path": "frontend/src/pages/image-tools/DPIChangerPage.tsx",
          "operation": "modify",
          "description": "Import and render the BackToHomeButton component at the top-left of the content area, above the H1 heading."
        },
        {
          "path": "frontend/src/pages/image-tools/ImageCompressorPage.tsx",
          "operation": "modify",
          "description": "Import and render the BackToHomeButton component at the top-left of the content area, above the H1 heading."
        },
        {
          "path": "frontend/src/pages/image-tools/ImageCropperPage.tsx",
          "operation": "modify",
          "description": "Import and render the BackToHomeButton component at the top-left of the content area, above the H1 heading."
        },
        {
          "path": "frontend/src/pages/image-tools/JPGToPNGPage.tsx",
          "operation": "modify",
          "description": "Import and render the BackToHomeButton component at the top-left of the content area, above the H1 heading."
        },
        {
          "path": "frontend/src/pages/image-tools/PANPhotoResizePage.tsx",
          "operation": "modify",
          "description": "Import and render the BackToHomeButton component at the top-left of the content area, above the H1 heading."
        },
        {
          "path": "frontend/src/pages/image-tools/PassportPhotoMakerPage.tsx",
          "operation": "modify",
          "description": "Import and render the BackToHomeButton component at the top-left of the content area, above the H1 heading."
        },
        {
          "path": "frontend/src/pages/image-tools/PNGToJPGPage.tsx",
          "operation": "modify",
          "description": "Import and render the BackToHomeButton component at the top-left of the content area, above the H1 heading."
        },
        {
          "path": "frontend/src/pages/image-tools/PoliceArmyPhotoPage.tsx",
          "operation": "modify",
          "description": "Import and render the BackToHomeButton component at the top-left of the content area, above the H1 heading."
        },
        {
          "path": "frontend/src/pages/image-tools/RailwayPhotoResizePage.tsx",
          "operation": "modify",
          "description": "Import and render the BackToHomeButton component at the top-left of the content area, above the H1 heading."
        },
        {
          "path": "frontend/src/pages/image-tools/SignatureResizePage.tsx",
          "operation": "modify",
          "description": "Import and render the BackToHomeButton component at the top-left of the content area, above the H1 heading."
        },
        {
          "path": "frontend/src/pages/image-tools/SmartDocumentFixerPage.tsx",
          "operation": "modify",
          "description": "Import and render the BackToHomeButton component at the top-left of the content area, above the H1 heading."
        },
        {
          "path": "frontend/src/pages/image-tools/SSCPhotoResizePage.tsx",
          "operation": "modify",
          "description": "Import and render the BackToHomeButton component at the top-left of the content area, above the H1 heading."
        },
        {
          "path": "frontend/src/pages/image-tools/VisaPhotoResizePage.tsx",
          "operation": "modify",
          "description": "Import and render the BackToHomeButton component at the top-left of the content area, above the H1 heading."
        },
        {
          "path": "frontend/src/pages/image-tools/WEBPConverterPage.tsx",
          "operation": "modify",
          "description": "Import and render the BackToHomeButton component at the top-left of the content area, above the H1 heading."
        },
        {
          "path": "frontend/src/pages/PDFToolsPage.tsx",
          "operation": "modify",
          "description": "Import and render the BackToHomeButton component at the top-left of the content area when any specific PDF tool is selected (not on the main PDF tools list view), above the tool component."
        },
        {
          "path": "frontend/src/pages/resume-builder/ResumeTemplateBuilderPage.tsx",
          "operation": "modify",
          "description": "Import and render the BackToHomeButton component at the top-left of the content area, above the H1 heading."
        }
      ]
    },
    {
      "id": "REQ-152",
      "summary": "Integrate BreadcrumbNavigation on all non-calculator tool pages",
      "acceptanceCriteria": [
        "All image tool pages, PDF tool pages, converter pages, and Resume Builder pages display a breadcrumb trail.",
        "Breadcrumb path correctly reflects the page hierarchy.",
        "Breadcrumb is positioned below the Back to Home button and above the H1 heading.",
        "Schema.org BreadcrumbList JSON-LD structured data is included.",
        "No calculator page component is modified."
      ],
      "file_operations": [
        {
          "path": "frontend/src/pages/image-tools/AadhaarPhotoResizePage.tsx",
          "operation": "modify",
          "description": "Import BreadcrumbNavigation component. Render it below the BackToHomeButton and above the H1 heading with path items: [{ label: 'Home', path: '/' }, { label: 'Image Tools', path: '/image-tools' }, { label: 'Aadhaar Photo Resizer' }]. The existing component already supports Schema.org JSON-LD structured data."
        },
        {
          "path": "frontend/src/pages/image-tools/BackgroundRemoverPage.tsx",
          "operation": "modify",
          "description": "Import BreadcrumbNavigation. Render it below BackToHomeButton with path: [{ label: 'Home', path: '/' }, { label: 'Image Tools', path: '/image-tools' }, { label: 'Background Remover' }]."
        },
        {
          "path": "frontend/src/pages/image-tools/CustomImageResizePage.tsx",
          "operation": "modify",
          "description": "Import BreadcrumbNavigation. Render it below BackToHomeButton with path: [{ label: 'Home', path: '/' }, { label: 'Image Tools', path: '/image-tools' }, { label: 'Image Resizer' }]."
        },
        {
          "path": "frontend/src/pages/image-tools/DPIChangerPage.tsx",
          "operation": "modify",
          "description": "Import BreadcrumbNavigation. Render it below BackToHomeButton with path: [{ label: 'Home', path: '/' }, { label: 'Image Tools', path: '/image-tools' }, { label: 'DPI Changer' }]."
        },
        {
          "path": "frontend/src/pages/image-tools/ImageCompressorPage.tsx",
          "operation": "modify",
          "description": "Import BreadcrumbNavigation. Render it below BackToHomeButton with path: [{ label: 'Home', path: '/' }, { label: 'Image Tools', path: '/image-tools' }, { label: 'Image Compressor' }]."
        },
        {
          "path": "frontend/src/pages/image-tools/ImageCropperPage.tsx",
          "operation": "modify",
          "description": "Import BreadcrumbNavigation. Render it below BackToHomeButton with path: [{ label: 'Home', path: '/' }, { label: 'Image Tools', path: '/image-tools' }, { label: 'Image Cropper' }]."
        },
        {
          "path": "frontend/src/pages/image-tools/JPGToPNGPage.tsx",
          "operation": "modify",
          "description": "Import BreadcrumbNavigation. Render it below BackToHomeButton with path: [{ label: 'Home', path: '/' }, { label: 'Image Tools', path: '/image-tools' }, { label: 'JPG to PNG Converter' }]."
        },
        {
          "path": "frontend/src/pages/image-tools/PANPhotoResizePage.tsx",
          "operation": "modify",
          "description": "Import BreadcrumbNavigation. Render it below BackToHomeButton with path: [{ label: 'Home', path: '/' }, { label: 'Image Tools', path: '/image-tools' }, { label: 'PAN Photo Resizer' }]."
        },
        {
          "path": "frontend/src/pages/image-tools/PassportPhotoMakerPage.tsx",
          "operation": "modify",
          "description": "Import BreadcrumbNavigation. Render it below BackToHomeButton with path: [{ label: 'Home', path: '/' }, { label: 'Image Tools', path: '/image-tools' }, { label: 'Passport Photo Maker' }]."
        },
        {
          "path": "frontend/src/pages/image-tools/PNGToJPGPage.tsx",
          "operation": "modify",
          "description": "Import BreadcrumbNavigation. Render it below BackToHomeButton with path: [{ label: 'Home', path: '/' }, { label: 'Image Tools', path: '/image-tools' }, { label: 'PNG to JPG Converter' }]."
        },
        {
          "path": "frontend/src/pages/image-tools/PoliceArmyPhotoPage.tsx",
          "operation": "modify",
          "description": "Import BreadcrumbNavigation. Render it below BackToHomeButton with path: [{ label: 'Home', path: '/' }, { label: 'Image Tools', path: '/image-tools' }, { label: 'Police Army Photo' }]."
        },
        {
          "path": "frontend/src/pages/image-tools/RailwayPhotoResizePage.tsx",
          "operation": "modify",
          "description": "Import BreadcrumbNavigation. Render it below BackToHomeButton with path: [{ label: 'Home', path: '/' }, { label: 'Image Tools', path: '/image-tools' }, { label: 'Railway Photo Resizer' }]."
        },
        {
          "path": "frontend/src/pages/image-tools/SignatureResizePage.tsx",
          "operation": "modify",
          "description": "Import BreadcrumbNavigation. Render it below BackToHomeButton with path: [{ label: 'Home', path: '/' }, { label: 'Image Tools', path: '/image-tools' }, { label: 'Signature Resizer' }]."
        },
        {
          "path": "frontend/src/pages/image-tools/SmartDocumentFixerPage.tsx",
          "operation": "modify",
          "description": "Import BreadcrumbNavigation. Render it below BackToHomeButton with path: [{ label: 'Home', path: '/' }, { label: 'Image Tools', path: '/image-tools' }, { label: 'Smart Document Fixer' }]."
        },
        {
          "path": "frontend/src/pages/image-tools/SSCPhotoResizePage.tsx",
          "operation": "modify",
          "description": "Import BreadcrumbNavigation. Render it below BackToHomeButton with path: [{ label: 'Home', path: '/' }, { label: 'Image Tools', path: '/image-tools' }, { label: 'SSC Photo Resizer' }]."
        },
        {
          "path": "frontend/src/pages/image-tools/VisaPhotoResizePage.tsx",
          "operation": "modify",
          "description": "Import BreadcrumbNavigation. Render it below BackToHomeButton with path: [{ label: 'Home', path: '/' }, { label: 'Image Tools', path: '/image-tools' }, { label: 'Visa Photo Resizer' }]."
        },
        {
          "path": "frontend/src/pages/image-tools/WEBPConverterPage.tsx",
          "operation": "modify",
          "description": "Import BreadcrumbNavigation. Render it below BackToHomeButton with path: [{ label: 'Home', path: '/' }, { label: 'Image Tools', path: '/image-tools' }, { label: 'WebP Converter' }]."
        },
        {
          "path": "frontend/src/pages/PDFToolsPage.tsx",
          "operation": "modify",
          "description": "Import BreadcrumbNavigation. Render it below BackToHomeButton when a specific PDF tool is selected with path: [{ label: 'Home', path: '/' }, { label: 'PDF Tools', path: '/pdf-tools' }, { label: '<Tool Name>' }]. Use dynamic tool name based on selected tool."
        },
        {
          "path": "frontend/src/pages/resume-builder/ResumeTemplateBuilderPage.tsx",
          "operation": "modify",
          "description": "Import BreadcrumbNavigation. Render it below BackToHomeButton with path: [{ label: 'Home', path: '/' }, { label: 'Resume Builder', path: '/resume-builder' }, { label: '<Template Name>' }]. Use dynamic template name from the loaded config."
        }
      ]
    },
    {
      "id": "REQ-153",
      "summary": "Display post-download navigation buttons after successful download",
      "acceptanceCriteria": [
        "Post-download buttons appear only after a download is triggered.",
        "'Back to Home' navigates to /.",
        "'Use Another Tool' navigates to the correct hub page.",
        "Buttons are full-width on screens below 768 px.",
        "No calculator component is modified."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/PostDownloadNavigation.tsx",
          "operation": "create",
          "description": "Create a PostDownloadNavigation component that accepts a hubPath prop (/image-tools, /pdf-tools, or /resume-builder). Render two buttons: (1) 'Back to Home' navigating to /; (2) 'Use Another Tool' navigating to the provided hubPath. Buttons must be full-width on screens below 768 px using responsive Tailwind classes. Include appropriate spacing and styling consistent with the existing design system."
        },
        {
          "path": "frontend/src/components/DownloadSection.tsx",
          "operation": "modify",
          "description": "Import and integrate the PostDownloadNavigation component. Accept a new optional hubPath prop and render PostDownloadNavigation below the download UI after a download action completes. Pass the hubPath through to the PostDownloadNavigation component."
        },
        {
          "path": "frontend/src/pages/image-tools/AadhaarPhotoResizePage.tsx",
          "operation": "modify",
          "description": "Pass hubPath='/image-tools' prop to any DownloadSection or tool component that handles downloads on this page."
        },
        {
          "path": "frontend/src/pages/image-tools/BackgroundRemoverPage.tsx",
          "operation": "modify",
          "description": "Pass hubPath='/image-tools' prop to the download handling component."
        },
        {
          "path": "frontend/src/pages/image-tools/CustomImageResizePage.tsx",
          "operation": "modify",
          "description": "Pass hubPath='/image-tools' prop to the download handling component."
        },
        {
          "path": "frontend/src/pages/image-tools/DPIChangerPage.tsx",
          "operation": "modify",
          "description": "Pass hubPath='/image-tools' prop to the download handling component."
        },
        {
          "path": "frontend/src/pages/image-tools/ImageCompressorPage.tsx",
          "operation": "modify",
          "description": "Pass hubPath='/image-tools' prop to the download handling component."
        },
        {
          "path": "frontend/src/pages/image-tools/ImageCropperPage.tsx",
          "operation": "modify",
          "description": "Pass hubPath='/image-tools' prop to the download handling component."
        },
        {
          "path": "frontend/src/pages/image-tools/JPGToPNGPage.tsx",
          "operation": "modify",
          "description": "Pass hubPath='/image-tools' prop to the download handling component."
        },
        {
          "path": "frontend/src/pages/image-tools/PANPhotoResizePage.tsx",
          "operation": "modify",
          "description": "Pass hubPath='/image-tools' prop to the download handling component."
        },
        {
          "path": "frontend/src/pages/image-tools/PassportPhotoMakerPage.tsx",
          "operation": "modify",
          "description": "Pass hubPath='/image-tools' prop to the download handling component."
        },
        {
          "path": "frontend/src/pages/image-tools/PNGToJPGPage.tsx",
          "operation": "modify",
          "description": "Pass hubPath='/image-tools' prop to the download handling component."
        },
        {
          "path": "frontend/src/pages/image-tools/PoliceArmyPhotoPage.tsx",
          "operation": "modify",
          "description": "Pass hubPath='/image-tools' prop to the download handling component."
        },
        {
          "path": "frontend/src/pages/image-tools/RailwayPhotoResizePage.tsx",
          "operation": "modify",
          "description": "Pass hubPath='/image-tools' prop to the download handling component."
        },
        {
          "path": "frontend/src/pages/image-tools/SignatureResizePage.tsx",
          "operation": "modify",
          "description": "Pass hubPath='/image-tools' prop to the download handling component."
        },
        {
          "path": "frontend/src/pages/image-tools/SmartDocumentFixerPage.tsx",
          "operation": "modify",
          "description": "Pass hubPath='/image-tools' prop to the download handling component."
        },
        {
          "path": "frontend/src/pages/image-tools/SSCPhotoResizePage.tsx",
          "operation": "modify",
          "description": "Pass hubPath='/image-tools' prop to the download handling component."
        },
        {
          "path": "frontend/src/pages/image-tools/VisaPhotoResizePage.tsx",
          "operation": "modify",
          "description": "Pass hubPath='/image-tools' prop to the download handling component."
        },
        {
          "path": "frontend/src/pages/image-tools/WEBPConverterPage.tsx",
          "operation": "modify",
          "description": "Pass hubPath='/image-tools' prop to the download handling component."
        },
        {
          "path": "frontend/src/components/pdf-tools/BasePDFTool.tsx",
          "operation": "modify",
          "description": "Accept hubPath prop and pass it through to any download handling components. Render PostDownloadNavigation after successful download with hubPath='/pdf-tools'."
        },
        {
          "path": "frontend/src/pages/resume-builder/ResumeTemplateBuilderPage.tsx",
          "operation": "modify",
          "description": "Pass hubPath='/resume-builder' prop to the download handling component (ResumePreview)."
        },
        {
          "path": "frontend/src/components/resume/ResumePreview.tsx",
          "operation": "modify",
          "description": "Accept hubPath prop and integrate PostDownloadNavigation component to render after PDF download with hubPath='/resume-builder'."
        }
      ]
    },
    {
      "id": "REQ-154",
      "summary": "Add A4, Legal, and Letter page size presets across image and PDF tools",
      "acceptanceCriteria": [
        "A4, Legal, and Letter appear as selectable presets in CustomImageResizePage, DPIChangerPage, ExportOptionsPanel, ImageToPDFTool, and PDFToImageTool settings panels.",
        "Selecting a preset auto-populates pixel dimensions calculated from the active DPI value.",
        "Presets are labeled 'Office Print Ready' in the UI.",
        "No calculator component is modified."
      ],
      "file_operations": [
        {
          "path": "frontend/src/lib/pageSizePresets.ts",
          "operation": "create",
          "description": "Create a utility module that defines office page size presets: A4 (210x297 mm), Legal (215.9x355.6 mm), and Letter (215.9x279.4 mm). Export a function that converts mm dimensions to pixel dimensions based on a given DPI value (default 300). Export preset configurations with labels, mm dimensions, and a category label 'Office Print Ready'."
        },
        {
          "path": "frontend/src/pages/image-tools/CustomImageResizePage.tsx",
          "operation": "modify",
          "description": "Import the office page size presets from frontend/src/lib/pageSizePresets.ts. Add a new preset section labeled 'Office Print Ready' to the existing preset selector UI. When a user selects A4, Legal, or Letter, auto-populate the pixel dimension inputs based on the active DPI value (use the existing DPI selector value or default to 300 DPI)."
        },
        {
          "path": "frontend/src/pages/image-tools/DPIChangerPage.tsx",
          "operation": "modify",
          "description": "Import the office page size presets. Add a new 'Office Print Ready' preset group to the DPI changer settings panel with A4, Legal, and Letter options. Calculate pixel dimensions from the selected DPI and mm dimensions when a preset is selected."
        },
        {
          "path": "frontend/src/components/image-tools/ExportOptionsPanel.tsx",
          "operation": "modify",
          "description": "Import the office page size presets. Add an 'Office Print Ready' section in the export options with A4, Legal, and Letter presets. When selected, prepare the export canvas with dimensions calculated from the current DPI setting."
        },
        {
          "path": "frontend/src/components/pdf-tools/ImageToPDFTool.tsx",
          "operation": "modify",
          "description": "Import the office page size presets. Add a page size selector in the tool's settings panel with A4, Legal, and Letter options under an 'Office Print Ready' category. Use the selected dimensions when generating the PDF output."
        },
        {
          "path": "frontend/src/components/pdf-tools/PDFToImageTool.tsx",
          "operation": "modify",
          "description": "Import the office page size presets. Add a target page size selector with A4, Legal, and Letter options labeled 'Office Print Ready'. Use these dimensions when rendering PDF pages to images."
        }
      ]
    },
    {
      "id": "REQ-155",
      "summary": "Implement batch file processing support for non-calculator tools",
      "acceptanceCriteria": [
        "Users can upload multiple files at once on supported tool pages.",
        "A queue list shows each file's name, size, and processing status.",
        "All files are processed client-side with the existing logic.",
        "Processed files can be downloaded individually or as a ZIP.",
        "Per-file status indicators (pending / processing / done / error) are shown.",
        "No calculator component is modified."
      ],
      "file_operations": [
        {
          "path": "frontend/src/hooks/useBatchProcessor.ts",
          "operation": "create",
          "description": "Create a custom hook that manages batch file processing state. Track an array of files with metadata (id, name, size, status: pending/processing/done/error, resultBlob). Expose functions to add files, process all files using a provided processing function, update per-file status, and download results individually or as a ZIP using JSZip. Return the file queue, processing state, and control functions."
        },
        {
          "path": "frontend/src/components/BatchFileQueue.tsx",
          "operation": "create",
          "description": "Create a BatchFileQueue component that accepts a files array with status and displays a vertical list of queued files. Show each file's name, size, and a status indicator (icon + label for pending/processing/done/error). Include individual download buttons for completed files and a 'Download All as ZIP' button when multiple files are done. Use responsive layout that stacks vertically on screens below 768 px with scrollable overflow if needed."
        },
        {
          "path": "frontend/src/pages/image-tools/ImageCompressorPage.tsx",
          "operation": "modify",
          "description": "Import useBatchProcessor hook and BatchFileQueue component. Enable multi-file upload in the FileUploadZone component. Wire batch processing using the existing compression logic for each file. Render BatchFileQueue to show processing status and download options."
        },
        {
          "path": "frontend/src/pages/image-tools/CustomImageResizePage.tsx",
          "operation": "modify",
          "description": "Import useBatchProcessor and BatchFileQueue. Enable multi-file upload and integrate batch processing using the existing resize logic per file. Render BatchFileQueue component."
        },
        {
          "path": "frontend/src/pages/image-tools/DPIChangerPage.tsx",
          "operation": "modify",
          "description": "Import useBatchProcessor and BatchFileQueue. Enable multi-file upload and batch DPI change processing. Render BatchFileQueue."
        },
        {
          "path": "frontend/src/pages/image-tools/JPGToPNGPage.tsx",
          "operation": "modify",
          "description": "Import useBatchProcessor and BatchFileQueue. Enable multi-file upload and batch conversion processing. Render BatchFileQueue."
        },
        {
          "path": "frontend/src/pages/image-tools/PNGToJPGPage.tsx",
          "operation": "modify",
          "description": "Import useBatchProcessor and BatchFileQueue. Enable multi-file upload and batch conversion processing. Render BatchFileQueue."
        },
        {
          "path": "frontend/src/pages/image-tools/WEBPConverterPage.tsx",
          "operation": "modify",
          "description": "Import useBatchProcessor and BatchFileQueue. Enable multi-file upload and batch WebP conversion processing. Render BatchFileQueue."
        },
        {
          "path": "frontend/src/pages/image-tools/BackgroundRemoverPage.tsx",
          "operation": "modify",
          "description": "Import useBatchProcessor and BatchFileQueue. Enable multi-file upload and batch background removal processing. Render BatchFileQueue."
        },
        {
          "path": "frontend/src/components/pdf-tools/PDFCompressTool.tsx",
          "operation": "modify",
          "description": "Import useBatchProcessor and BatchFileQueue. Enable multi-file PDF upload and batch compression processing. Render BatchFileQueue."
        },
        {
          "path": "frontend/src/components/pdf-tools/ImageToPDFTool.tsx",
          "operation": "modify",
          "description": "Already supports multiple image uploads. Import useBatchProcessor and BatchFileQueue to track per-image status and enable individual or batch download of generated PDFs. Render BatchFileQueue."
        }
      ]
    },
    {
      "id": "REQ-156",
      "summary": "Enhance PDFAddWatermarkTool with full stamp/watermark settings panel",
      "acceptanceCriteria": [
        "PDFAddWatermarkTool has all six stamp settings fields.",
        "Preview is shown before download is enabled.",
        "Stamp is applied client-side with no backend calls.",
        "Tool is accessible from PDFToolsPage.",
        "No calculator component is modified."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/pdf-tools/PDFAddWatermarkTool.tsx",
          "operation": "modify",
          "description": "Replace the existing BasePDFTool wrapper with a full custom implementation using AdvancedToolShell. Create a settings panel with six controls: (1) text input for stamp content with presets (CONFIDENTIAL, DRAFT, APPROVED) and custom input; (2) font size selector (small/medium/large/custom pt); (3) opacity slider (10-100%); (4) position selector (center diagonal, top-left, top-right, bottom-left, bottom-right); (5) color picker for stamp text; (6) rotation angle input (0-360 degrees). Follow the strict sequence: settings selection, then Apply and Preview button, then show preview panel, then enable download. Use client-side PDF manipulation (pdf-lib or canvas rendering) to apply the watermark."
        }
      ]
    },
    {
      "id": "REQ-157",
      "summary": "Expand multi-language support to 19 total languages",
      "acceptanceCriteria": [
        "LanguageSelector dropdown includes all 9 new languages in addition to the existing 10.",
        "Each new language has a locale JSON file with all keys from en.json translated.",
        "Locale files are lazy-loaded only when that language is selected.",
        "Calculation logic and numerical operations remain unchanged.",
        "Language switching works without page reload."
      ],
      "file_operations": [
        {
          "path": "frontend/src/contexts/LanguageContext.tsx",
          "operation": "modify",
          "description": "Add 9 new language codes to the supportedLanguages array: ar (Arabic), fr (French), es (Spanish), de (German), zh (Chinese Simplified), pt (Portuguese), ru (Russian), ja (Japanese), id (Indonesian). Update the lazy-loading logic to dynamically import the new locale files when selected. Ensure the context re-renders dependent components when the language changes."
        },
        {
          "path": "frontend/src/components/LanguageSelector.tsx",
          "operation": "modify",
          "description": "Add 9 new language options to the dropdown: Arabic (ar), French (fr), Spanish (es), German (de), Chinese Simplified (zh), Portuguese (pt), Russian (ru), Japanese (ja), Indonesian (id). Display language names in their native scripts where appropriate. Maintain existing dropdown styling and behavior."
        },
        {
          "path": "frontend/src/locales/ar.json",
          "operation": "create",
          "description": "Create Arabic locale file with translations for all UI text keys present in en.json. Do not translate calculation formulas, numerical operations, or variable names. Use native Arabic script."
        },
        {
          "path": "frontend/src/locales/fr.json",
          "operation": "create",
          "description": "Create French locale file with translations for all UI text keys present in en.json. Do not translate calculation logic."
        },
        {
          "path": "frontend/src/locales/es.json",
          "operation": "create",
          "description": "Create Spanish locale file with translations for all UI text keys present in en.json. Do not translate calculation logic."
        },
        {
          "path": "frontend/src/locales/de.json",
          "operation": "create",
          "description": "Create German locale file with translations for all UI text keys present in en.json. Do not translate calculation logic."
        },
        {
          "path": "frontend/src/locales/zh.json",
          "operation": "create",
          "description": "Create Chinese Simplified locale file with translations for all UI text keys present in en.json. Use Simplified Chinese characters. Do not translate calculation logic."
        },
        {
          "path": "frontend/src/locales/pt.json",
          "operation": "create",
          "description": "Create Portuguese locale file with translations for all UI text keys present in en.json. Do not translate calculation logic."
        },
        {
          "path": "frontend/src/locales/ru.json",
          "operation": "create",
          "description": "Create Russian locale file with translations for all UI text keys present in en.json. Use Cyrillic script. Do not translate calculation logic."
        },
        {
          "path": "frontend/src/locales/ja.json",
          "operation": "create",
          "description": "Create Japanese locale file with translations for all UI text keys present in en.json. Use appropriate kanji, hiragana, and katakana. Do not translate calculation logic."
        },
        {
          "path": "frontend/src/locales/id.json",
          "operation": "create",
          "description": "Create Indonesian locale file with translations for all UI text keys present in en.json. Do not translate calculation logic."
        }
      ]
    },
    {
      "id": "REQ-158",
      "summary": "Implement RTL layout support for Arabic",
      "acceptanceCriteria": [
        "Selecting Arabic sets dir='rtl' on the document root.",
        "All page layouts mirror correctly in RTL mode.",
        "Header, Footer, breadcrumbs, and tool cards render correctly in Arabic RTL.",
        "Switching away from Arabic restores LTR layout.",
        "No calculator component is modified."
      ],
      "file_operations": [
        {
          "path": "frontend/src/contexts/LanguageContext.tsx",
          "operation": "modify",
          "description": "Add RTL language detection logic. When the active language is 'ar' (Arabic), set document.documentElement.dir = 'rtl' and document.documentElement.lang = 'ar'. When switching to any other language, set dir = 'ltr' and the appropriate lang code. Include this logic in the language change handler and the initial language detection effect."
        },
        {
          "path": "frontend/src/index.css",
          "operation": "modify",
          "description": "Add CSS rules using the [dir='rtl'] selector to mirror flex/grid layouts. Apply text-align: right for RTL mode on major text containers. Ensure breadcrumb separators, icons, and navigation arrows flip direction in RTL. Use Tailwind's RTL utilities or custom CSS as needed."
        },
        {
          "path": "frontend/src/components/Header.tsx",
          "operation": "modify",
          "description": "Apply RTL-aware layout classes. Ensure navigation links, logo, and language selector render correctly when dir='rtl'. Test hamburger menu overlay in RTL mode."
        },
        {
          "path": "frontend/src/components/Footer.tsx",
          "operation": "modify",
          "description": "Apply RTL-aware layout classes to footer columns and links. Ensure footer renders correctly in both LTR and RTL modes."
        },
        {
          "path": "frontend/src/components/BreadcrumbNavigation.tsx",
          "operation": "modify",
          "description": "Apply RTL layout logic: reverse the order of breadcrumb items when dir='rtl' so they display right-to-left. Flip the separator icons or use CSS to mirror them."
        },
        {
          "path": "frontend/src/components/ToolsGrid.tsx",
          "operation": "modify",
          "description": "Ensure tool cards render correctly in RTL mode with mirrored flex/grid layouts."
        }
      ]
    },
    {
      "id": "REQ-159",
      "summary": "Implement multi-language SEO support for all newly added languages",
      "acceptanceCriteria": [
        "SEO component renders hreflang tags for all supported languages including new ones.",
        "x-default hreflang points to English version.",
        "sitemap.xml includes URL entries for all new language variants.",
        "Language-prefixed routes work for all 9 new languages.",
        "Canonical tags point to the current language URL."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/SEO.tsx",
          "operation": "modify",
          "description": "Update the SEO component to render hreflang link tags for all 19 supported languages (9 existing + 9 new + English). Generate language-specific URL variants following the pattern /[lang]/[route]. Add x-default hreflang pointing to the English version. Set the canonical tag to the current language URL."
        },
        {
          "path": "frontend/src/utils/generateSitemap.ts",
          "operation": "modify",
          "description": "Update the sitemap generation logic to include language-prefixed URL variants for all 19 supported languages following the pattern /[lang]/[route]. Generate entries for ar, fr, es, de, zh, pt, ru, ja, id in addition to the existing 9 Indian languages. Ensure all tool pages, hub pages, and static pages have language variants in the sitemap."
        },
        {
          "path": "frontend/public/sitemap.xml",
          "operation": "modify",
          "description": "Regenerate or update sitemap.xml to include URL entries for all newly added language variants. Include entries for ar, fr, es, de, zh, pt, ru, ja, id with appropriate lastmod dates and priority values."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Add language-prefixed route patterns for all 9 new languages following the existing pattern for Indian languages. Register routes like /ar/*, /fr/*, /es/*, /de/*, /zh/*, /pt/*, /ru/*, /ja/*, /id/* that map to the same components as the default routes but set the language context accordingly. Ensure lazy loading and suspense work for language-prefixed routes."
        }
      ]
    },
    {
      "id": "REQ-160",
      "summary": "Implement country-based language auto-detection on initial page load",
      "acceptanceCriteria": [
        "On first visit with no stored language preference, language is auto-detected from navigator.language.",
        "Auto-detected language is applied and URL is updated to language-prefixed path.",
        "If locale is unsupported, English is used as fallback.",
        "Manually selected language persists in localStorage and prevents auto-redirect on return visits.",
        "Auto-detection does not break existing routing."
      ],
      "file_operations": [
        {
          "path": "frontend/src/contexts/LanguageContext.tsx",
          "operation": "modify",
          "description": "Add auto-detection logic in the initialization effect. Check localStorage for a manually selected language preference key. If no preference exists, use navigator.language or navigator.languages[0] to detect the user's locale. Map the detected locale to one of the 19 supported languages. If a match is found, set that language in the context and update the URL to the language-prefixed variant (e.g., /fr/image-tools). If no match, fall back to English. Persist the detected or selected language to localStorage with a flag indicating auto-detection vs manual selection. Do not auto-redirect if a manual preference exists."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Ensure the routing logic supports URL updates from auto-detection. When LanguageContext changes the language and updates the URL to a language-prefixed path, the router must navigate accordingly without full page reload. Test that manual language selection overrides auto-detection and prevents future auto-redirects."
        }
      ]
    },
    {
      "id": "REQ-161",
      "summary": "Update HomePage to display FREE tools with clear icons and Pro tool in separate section",
      "acceptanceCriteria": [
        "Every free tool card on the homepage has a visible SVG icon representing its function.",
        "A 'Pro Tools' section exists below all free tool sections containing only the AI Document Enhancer card.",
        "The AI Document Enhancer card displays the amber/gold PRO badge.",
        "No free tool card displays a PRO badge.",
        "Homepage layout, theme, spacing, and design are visually unchanged.",
        "No calculator component is modified."
      ],
      "file_operations": [
        {
          "path": "frontend/src/pages/HomePage.tsx",
          "operation": "modify",
          "description": "Ensure every free tool card (PDF Tools, all Image Tools except AI Document Enhancer, Calculator Hub, Resume Builder) has a clear recognizable SVG icon using existing icons from lucide-react or generated assets (frontend/public/assets/generated/pdf-tools-icon-transparent.dim_64x64.png, frontend/public/assets/generated/image-tools-icon-transparent.dim_64x64.png, frontend/public/assets/generated/resume-builder-icon-transparent.dim_64x64.png, frontend/public/assets/generated/academic-calc-icon.dim_128x128.png). Create a new separate section titled 'Pro Tools' positioned below all free tool sections. Add a card for 'AI Document Enhancer' in the Pro Tools section using the same card design as free tools but with an amber/gold PRO badge (use existing badge design or create a new one consistent with the theme). Ensure no free tool card displays a PRO badge. Do not modify layout, dark theme, card shadows, border radius, padding, gap values, or any other visual properties. No calculator component should be touched."
        }
      ]
    },
    {
      "id": "REQ-162",
      "summary": "Create new Pro tool 'AI Document Enhancer' with login/subscription gate",
      "acceptanceCriteria": [
        "Route /ai-document-enhancer renders AIDocumentEnhancerPage.",
        "Page shows SEO metadata, breadcrumbs, and H1.",
        "Unauthenticated users and non-Pro users see a login/subscription gate with correct pricing.",
        "Authenticated Pro users see the tool with a 'Pro Active' badge.",
        "ProPricingModal pricing is updated to 399 rupees per month and 3000 rupees per year.",
        "AI Document Enhancer card appears in ImageToolsPage with PRO badge.",
        "No calculator component is modified."
      ],
      "file_operations": [
        {
          "path": "frontend/src/pages/image-tools/AIDocumentEnhancerPage.tsx",
          "operation": "create",
          "description": "Create a new page component AIDocumentEnhancerPage. Include SEO component with title: 'AI Document Enhancer - Pro Tool | Document Master Tools' and a 100-150 word description. Render BreadcrumbNavigation with path: [{ label: 'Home', path: '/' }, { label: 'Image Tools', path: '/image-tools' }, { label: 'AI Document Enhancer' }]. Display an H1 heading. Use the useProAccess hook and useInternetIdentity hook to check if the user is authenticated and has Pro access. If isPro is true AND the user is authenticated, render the full AI Document Enhancer tool UI with a 'Pro Active' badge in the page header. Otherwise, display a prominent login/subscription gate with the message 'Login Required' and 'Subscribe to Pro' along with pricing: 399 rupees per month or 3000 rupees per year. Include a login button that triggers the Internet Identity login flow and a subscribe button that opens the ProPricingModal."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Register the route /ai-document-enhancer using React.lazy() and Suspense. Import the AIDocumentEnhancerPage component lazily. Add the route to the state-based routing logic following the existing pattern for other tool pages."
        },
        {
          "path": "frontend/src/components/image-tools/ProPricingModal.tsx",
          "operation": "modify",
          "description": "Update the pricing display to replace any reference to 'Smart Document Fixer Pro' with 'AI Document Enhancer Pro'. Update the monthly price to 399 rupees and the yearly price to 3000 rupees. Ensure the feature comparison table highlights AI Document Enhancer capabilities in the Pro column."
        },
        {
          "path": "frontend/src/pages/ImageToolsPage.tsx",
          "operation": "modify",
          "description": "Add a new 'Pro Tools' sub-section at the end of the page. Create a card for 'AI Document Enhancer' with a clear icon, description, and an amber/gold PRO badge. When clicked, navigate to /ai-document-enhancer. Ensure the card design matches the existing tool cards but clearly indicates Pro status with the badge."
        }
      ]
    },
    {
      "id": "REQ-163",
      "summary": "Update Header LanguageSelector to include all 19 supported languages",
      "acceptanceCriteria": [
        "LanguageSelector in the header includes all 19 supported languages.",
        "Navigation order is preserved as specified.",
        "External links open in new tab with rel noopener noreferrer.",
        "Mobile hamburger menu and overlay work correctly.",
        "Language selector is accessible in the mobile menu overlay."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/Header.tsx",
          "operation": "modify",
          "description": "Verify that the LanguageSelector component in the header displays all 19 supported languages (9 existing Indian languages + 9 new global languages + English). Ensure the navigation link order remains: (1) Calculator Hub to /calculators; (2) PDF Tools to /pdf-tools; (3) Image Tools to /image-tools; (4) Resume Builder to /resume-builder; (5) JobsIndiaa.com external new tab; (6) RJY Total Manpowers.com external new tab. Ensure all external links have target='_blank' and rel='noopener noreferrer'. Verify hamburger menu, mobile overlay, touch targets, and responsive behavior are unchanged. Ensure LanguageSelector is accessible in the mobile menu overlay."
        }
      ]
    },
    {
      "id": "REQ-164",
      "summary": "Upgrade all 16 PDF tool components to use advanced user-controlled mode",
      "acceptanceCriteria": [
        "All 16 PDF tool components have a settings panel before any processing.",
        "Processing does not begin until Apply and Preview is clicked.",
        "A preview panel is shown after processing.",
        "Download button is disabled until preview is confirmed.",
        "Each tool has settings appropriate to its function as specified.",
        "No calculator component is modified."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/pdf-tools/PDFCompressTool.tsx",
          "operation": "modify",
          "description": "Migrate to AdvancedToolShell. Create a settings panel with: (a) compression level selector (Low/Medium/High/Maximum); (b) target size input with KB/MB unit selector. Follow the strict sequence: settings selection, Apply and Preview button, show preview panel, then enable download. Use client-side PDF compression logic."
        },
        {
          "path": "frontend/src/components/pdf-tools/PDFMergeTool.tsx",
          "operation": "modify",
          "description": "Migrate to AdvancedToolShell. Create a settings panel with: (a) page order drag-reorder list for uploaded PDFs; (b) output quality selector. Follow the strict sequence: settings, Apply and Preview, preview panel, download enabled."
        },
        {
          "path": "frontend/src/components/pdf-tools/PDFSplitTool.tsx",
          "operation": "modify",
          "description": "Migrate to AdvancedToolShell. Create a settings panel with: (a) split mode selector (by page range / every N pages / individual pages); (b) page range input. Follow the strict sequence: settings, Apply and Preview, preview panel, download enabled."
        },
        {
          "path": "frontend/src/components/pdf-tools/PDFToImageTool.tsx",
          "operation": "modify",
          "description": "Migrate to AdvancedToolShell. Create a settings panel with: (a) output format selector (PNG/JPEG/WebP); (b) DPI selector (72/150/200/300); (c) quality slider. Follow the strict sequence: settings, Apply and Preview, preview panel, download enabled."
        },
        {
          "path": "frontend/src/components/pdf-tools/ImageToPDFTool.tsx",
          "operation": "modify",
          "description": "Migrate to AdvancedToolShell. Create a settings panel with: (a) page size selector (A4/Letter/Legal/custom); (b) orientation (portrait/landscape); (c) image fit mode (fit/fill/center). Follow the strict sequence: settings, Apply and Preview, preview panel, download enabled."
        },
        {
          "path": "frontend/src/components/pdf-tools/PDFPasswordProtectTool.tsx",
          "operation": "modify",
          "description": "Migrate to AdvancedToolShell. Create a settings panel with: (a) password input field; (b) encryption level selector (128-bit/256-bit). Follow the strict sequence: settings, Apply and Preview, preview panel, download enabled."
        },
        {
          "path": "frontend/src/components/pdf-tools/PDFPasswordUnlockTool.tsx",
          "operation": "modify",
          "description": "Migrate to AdvancedToolShell. Create a settings panel with: (a) password input field to unlock the PDF. Follow the strict sequence: settings, Apply and Preview, preview panel, download enabled."
        },
        {
          "path": "frontend/src/components/pdf-tools/PDFRemoveBlankPagesTool.tsx",
          "operation": "modify",
          "description": "Migrate to AdvancedToolShell. Create a settings panel with: (a) blank page detection threshold slider (sensitivity). Follow the strict sequence: settings, Apply and Preview, preview panel, download enabled."
        },
        {
          "path": "frontend/src/components/pdf-tools/PDFReorderTool.tsx",
          "operation": "modify",
          "description": "Migrate to AdvancedToolShell. Create a settings panel with: (a) page order drag-reorder interface showing all pages. Follow the strict sequence: settings, Apply and Preview, preview panel, download enabled."
        },
        {
          "path": "frontend/src/components/pdf-tools/PDFSignTool.tsx",
          "operation": "modify",
          "description": "Migrate to AdvancedToolShell. Create a settings panel with: (a) signature image upload; (b) signature position selector; (c) signature size controls. Follow the strict sequence: settings, Apply and Preview, preview panel, download enabled."
        },
        {
          "path": "frontend/src/components/pdf-tools/PDFOCRTool.tsx",
          "operation": "modify",
          "description": "Migrate to AdvancedToolShell. Create a settings panel with: (a) OCR language selector; (b) output format selector (searchable PDF / text file). Follow the strict sequence: settings, Apply and Preview, preview panel, download enabled."
        },
        {
          "path": "frontend/src/components/pdf-tools/PDFPageCounterTool.tsx",
          "operation": "modify",
          "description": "Migrate to AdvancedToolShell. Create a settings panel with: (a) report format selector (on-screen display / text file download). Follow the strict sequence: settings, Apply and Preview, show page count result, download option."
        },
        {
          "path": "frontend/src/components/pdf-tools/PDFAddPageNumbersTool.tsx",
          "operation": "modify",
          "description": "Migrate to AdvancedToolShell. Create a settings panel with: (a) page number position selector; (b) font size selector; (c) starting number input; (d) format selector (1, 2, 3 or Page 1 of N). Follow the strict sequence: settings, Apply and Preview, preview panel, download enabled."
        },
        {
          "path": "frontend/src/components/pdf-tools/PDFToWordTool.tsx",
          "operation": "modify",
          "description": "Migrate to AdvancedToolShell. Create a settings panel with: (a) output format selector (.docx / .doc); (b) layout preservation option (maintain formatting / plain text). Follow the strict sequence: settings, Apply and Preview, preview panel, download enabled."
        },
        {
          "path": "frontend/src/components/pdf-tools/WordToPDFTool.tsx",
          "operation": "modify",
          "description": "Migrate to AdvancedToolShell. Create a settings panel with: (a) PDF quality selector (standard / high quality); (b) page size selector. Follow the strict sequence: settings, Apply and Preview, preview panel, download enabled."
        }
      ]
    },
    {
      "id": "REQ-165",
      "summary": "Ensure mobile responsiveness for new navigation elements and batch processing UI",
      "acceptanceCriteria": [
        "Back to Home button is full-width on screens below 480 px.",
        "Breadcrumbs truncate or scroll horizontally on small screens.",
        "Post-download buttons are full-width with min-height 48 px on mobile.",
        "Batch queue list stacks vertically on screens below 768 px.",
        "No calculator component is modified."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/BackToHomeButton.tsx",
          "operation": "modify",
          "description": "Add responsive Tailwind classes to make the button full-width on screens below 480 px (e.g., 'w-full sm:w-auto'). Ensure the button maintains a minimum height for touch targets."
        },
        {
          "path": "frontend/src/components/BreadcrumbNavigation.tsx",
          "operation": "modify",
          "description": "Add responsive behavior for small screens: enable horizontal scrolling or truncate breadcrumb items using ellipsis on screens below 640 px. Use overflow-x-auto or text-truncate utilities as appropriate."
        },
        {
          "path": "frontend/src/components/PostDownloadNavigation.tsx",
          "operation": "modify",
          "description": "Ensure buttons are full-width on screens below 768 px using responsive Tailwind classes (e.g., 'w-full md:w-auto'). Set min-height to 48 px (min-h-12) for touch accessibility on mobile."
        },
        {
          "path": "frontend/src/components/BatchFileQueue.tsx",
          "operation": "modify",
          "description": "Ensure the file queue list stacks vertically on screens below 768 px using flex-col or block layout. Enable scrollable overflow if the list exceeds the viewport height (e.g., 'max-h-96 overflow-y-auto' on mobile). Ensure file items are touch-friendly with adequate spacing."
        }
      ]
    }
  ]
}