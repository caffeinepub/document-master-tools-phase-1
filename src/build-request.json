{
  "kind": "build_request",
  "title": "Implement Global Multi-Language System with 9 Languages",
  "projectName": "Document Master Tools",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-87",
      "text": "Create LanguageSelector component (frontend/src/components/LanguageSelector.tsx) that renders a dropdown in the header displaying 9 supported languages: English (en, default), Hindi (hi), Bengali (bn), Tamil (ta), Telugu (te), Marathi (mr), Gujarati (gu), Kannada (kn), Malayalam (ml), Urdu (ur) with flag icons or language codes, current selected language indicator, and smooth dropdown animation",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-last"
        ],
        "quotes": [
          "Add language dropdown in header. Primary supported languages: English (default) Hindi Bengali Tamil Telugu Marathi Gujarati Kannada Malayalam Urdu"
        ]
      },
      "acceptanceCriteria": [
        "LanguageSelector component renders in Header component",
        "Dropdown displays all 9 languages with proper labels",
        "Current language is highlighted",
        "Mobile responsive with touch-friendly tap targets",
        "Smooth open/close animations"
      ]
    },
    {
      "id": "REQ-88",
      "text": "Create i18n infrastructure with context provider (frontend/src/contexts/LanguageContext.tsx) that manages current language state, provides language switching functionality, persists language preference to localStorage, and exposes useLanguage hook for components to access translation functions and current language",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-last"
        ],
        "quotes": [
          "Implement scalable i18n structure. - Separate translation JSON files per language - Dynamic content switching - Preserve routes - Maintain SEO structure"
        ]
      },
      "acceptanceCriteria": [
        "LanguageContext provides currentLanguage state",
        "setLanguage function updates language without page reload",
        "Language preference persists in localStorage",
        "useLanguage hook accessible in all components",
        "Context wrapped around App in main.tsx"
      ]
    },
    {
      "id": "REQ-89",
      "text": "Create translation JSON files (frontend/src/locales/en.json, hi.json, bn.json, ta.json, te.json, mr.json, gu.json, kn.json, ml.json, ur.json) containing translations for all UI text including navigation labels, page headings, descriptions, button labels, form labels, error messages, and SEO meta titles/descriptions. Do NOT translate calculation logic, formulas, or numerical operations",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-last"
        ],
        "quotes": [
          "Separate translation JSON files per language",
          "Do NOT translate tool calculation logic. Only UI text + headings + descriptions"
        ]
      },
      "acceptanceCriteria": [
        "10 JSON files created in frontend/src/locales/",
        "Each file contains complete translations for all UI strings",
        "Translation keys are consistent across all language files",
        "Calculator formulas and logic remain in English",
        "Footer copyright text remains unchanged",
        "File structure supports nested keys for organization"
      ]
    },
    {
      "id": "REQ-90",
      "text": "Update App.tsx routing to support language-prefixed URLs following pattern /:lang/calculators, /:lang/pdf-tools, /:lang/image-tools, /:lang/resume-builder with default English routes preserved at existing paths (/calculators, /pdf-tools, etc.) and language parameter extracted from URL to set active language",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-last"
        ],
        "quotes": [
          "URL Structure: example.com/en/ example.com/hi/ example.com/bn/ etc.",
          "Preserve routes"
        ]
      },
      "acceptanceCriteria": [
        "Routes support optional /:lang prefix",
        "Language code in URL sets active language automatically",
        "Default routes without prefix use English",
        "Navigation preserves current language in URLs",
        "All existing routes work with language prefixes"
      ]
    },
    {
      "id": "REQ-91",
      "text": "Update SEO component to render hreflang link tags for all 9 supported languages on every page, pointing to language-specific URL variants, with x-default hreflang pointing to English version, and language-specific canonical tags pointing to current language URL",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-last"
        ],
        "quotes": [
          "SEO: - hreflang tags - Canonical per language - Language-based meta titles & descriptions"
        ]
      },
      "acceptanceCriteria": [
        "hreflang tags generated for all 9 languages on every page",
        "x-default hreflang points to English version",
        "Canonical tag reflects current language URL",
        "Alternate language URLs properly constructed",
        "Tags render in document <head>"
      ]
    },
    {
      "id": "REQ-92",
      "text": "Update all page components (calculators, PDF tools, image tools, resume builder, hub pages) to use translation keys from language context instead of hardcoded English strings for page titles, headings, descriptions, button labels, and form fields while preserving calculation logic, formulas, and numerical displays in their original form",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-last"
        ],
        "quotes": [
          "Dynamic content switching",
          "Only UI text + headings + descriptions",
          "Do NOT translate tool calculation logic"
        ]
      },
      "acceptanceCriteria": [
        "All page titles use translation keys",
        "All UI headings and descriptions translated",
        "Button labels and form fields use translations",
        "Calculator formulas remain untranslated",
        "Numerical outputs and operations unchanged",
        "Changes applied to 50+ page components"
      ]
    },
    {
      "id": "REQ-93",
      "text": "Implement lazy loading for translation files using dynamic imports so language JSON files are only loaded when user switches to that language, with loading state indicator during language switch and error handling for failed translation file loads",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-last"
        ],
        "quotes": [
          "Performance: - Lazy load language files - No heavy reload"
        ]
      },
      "acceptanceCriteria": [
        "Translation files loaded on-demand via dynamic import()",
        "Loading indicator shown during language switch",
        "Translations cached after first load",
        "Error handling for network failures",
        "No full page reload on language change"
      ]
    },
    {
      "id": "REQ-94",
      "text": "Update SEO component to accept language parameter and render language-specific meta titles and descriptions using translated strings from active language file, maintaining existing SEO structure with Open Graph tags and Twitter Card tags in the selected language",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-last"
        ],
        "quotes": [
          "Language-based meta titles & descriptions",
          "Maintain SEO structure"
        ]
      },
      "acceptanceCriteria": [
        "SEO component accepts language prop",
        "Meta titles use translated strings",
        "Meta descriptions use translated strings",
        "Open Graph tags reflect current language",
        "Twitter Card tags use current language",
        "Canonical and hreflang tags properly set"
      ]
    },
    {
      "id": "REQ-95",
      "text": "Implement optional browser language auto-detection on initial page load that reads navigator.language or navigator.languages, matches to one of the 9 supported languages (with fallback to English), and optionally redirects user to detected language URL if different from current URL language",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-last"
        ],
        "quotes": [
          "Auto detect browser language (optional redirect)"
        ]
      },
      "acceptanceCriteria": [
        "Browser language detected on first visit",
        "Language code mapped to supported languages",
        "Falls back to English for unsupported languages",
        "Optional redirect to detected language URL",
        "User preference in localStorage overrides detection",
        "Detection only runs once per session"
      ]
    },
    {
      "id": "REQ-96",
      "text": "Integrate LanguageSelector into Header component positioned after existing navigation links with proper spacing, ensure mobile responsive design with dropdown overlay on small screens, and verify language switching works across all pages without breaking layouts or functionality",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-last"
        ],
        "quotes": [
          "Add language dropdown in header",
          "Mobile responsive"
        ]
      },
      "acceptanceCriteria": [
        "LanguageSelector integrated in Header component",
        "Positioned appropriately in header layout",
        "Mobile responsive with touch-friendly UI",
        "Dropdown closes on language selection",
        "Language switch works on all page types",
        "No layout shifts or broken UI after switch"
      ]
    },
    {
      "id": "REQ-97",
      "text": "Update sitemap.xml generation utility to include language-specific URLs for all pages across all 9 languages following pattern example.com/en/calculators/cgpa-calculator, example.com/hi/calculators/cgpa-calculator, etc. with proper lastmod, changefreq, and priority values maintained for each language variant",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-last"
        ],
        "quotes": [
          "URL Structure: example.com/en/ example.com/hi/ example.com/bn/ etc.",
          "Maintain SEO structure"
        ]
      },
      "acceptanceCriteria": [
        "Sitemap includes URLs for all 9 languages",
        "All calculator pages have language variants",
        "All PDF tool pages have language variants",
        "All image tool pages have language variants",
        "All resume builder pages have language variants",
        "Hub pages have language variants",
        "Priority and changefreq preserved per page type"
      ]
    }
  ],
  "constraints": [
    "Do NOT rebuild entire application",
    "Do NOT modify tool calculation logic, formulas, or numerical operations",
    "Footer copyright text remains unchanged",
    "Preserve existing routes and maintain backward compatibility",
    "Maintain SEO structure with proper meta tags and structured data",
    "Respect single-actor backend architecture (no backend changes needed)",
    "Do NOT modify immutable frontend paths: useInternetIdentity hooks, useActor.ts, main.tsx, components/ui"
  ],
  "nonGoals": [
    "Backend translation or localization",
    "Real-time translation APIs or external translation services",
    "Translating calculation logic or mathematical formulas",
    "Changing footer copyright text",
    "Adding more than 9 specified languages",
    "Modifying existing tool functionality beyond adding translations",
    "Database-driven translation management"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}